(this["webpackJsonpcurrency-exchange"]=this["webpackJsonpcurrency-exchange"]||[]).push([[0],{31:function(n){n.exports=JSON.parse('{"balance":"Balance","buy":"Buy","buy_with":"Buy {{curOne}} with {{curTwo}}","choose_source":"Choose source","currency":{"czech_koruna":"Czech Koruna","euro":"Euro","poland_zloty":"Poland Zloty","pound_sterling":"Pound Sterling","united_states_dollar":"United States Dollar"},"exceed_balance":"Exceed balance","exchange_summary":"{{from}} to {{to}}","stale_rates_notification":"Couldn\'t get the latest rates. Trying to update...","sell":"Sell","sell_to":"Sell {{curOne}} to {{curTwo}}","you_exchanged":"You exchanged"}')},47:function(n,e,t){},48:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t.n(r),a=t(18),o=t.n(a),i=(t(38),t(5)),u=t(6),l=t(8);function s(n,e){return function(t){var r=" ".repeat(e);return"left"===n?"".concat(this.symbol).concat(r).concat(t):"".concat(t).concat(r).concat(this.symbol)}}var d="https://openexchangerates.org/api/latest.json?app_id=".concat("3cabd2c7471b4b778cd0de69c5470fae"),b=[{code:"CZK",label:"czech_koruna",symbol:"K\u010d",format:s("left",1)},{code:"GBP",label:"pound_sterling",symbol:"\xa3",format:s("left",0)},{code:"EUR",label:"euro",symbol:"\u20ac",format:s("left",0)},{code:"PLN",label:"poland_zloty",symbol:"z\u0142",format:s("left",1)},{code:"USD",label:"united_states_dollar",symbol:"$",format:s("left",0)}];var j=function(){var n=Object(r.useState)(null),e=Object(i.a)(n,2),t=e[0],c=e[1];return Object(r.useEffect)((function(){var n=b.reduce((function(n,e,t){return Object(l.a)(Object(l.a)({},n),{},Object(u.a)({},e.code,1e4*t))}),{});c(n)}),[]),[!t,function(n){return null!=(null===t||void 0===t?void 0:t[n.code])?t[n.code]/100:null},function(n,e){c((function(t){if(!t||null===t[e.code])throw new Error("balance is null");return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.code,t[e.code]+n))}))}]};var f,x,O,h=function(){var n=Object(r.useState)(null),e=Object(i.a)(n,2),t=e[0],c=e[1],a=Object(r.useState)(1),o=Object(i.a)(a,2),u=o[0],l=o[1],s=Object(r.useState)(!1),b=Object(i.a)(s,2),j=b[0],f=b[1];return Object(r.useEffect)((function(){var n=setInterval((function(){return l((function(n){return n+1}))}),1e4);return function(){return clearInterval(n)}}),[]),Object(r.useEffect)((function(){fetch("".concat(d,"&random=").concat(Math.random())).then((function(n){return n.json()})).then((function(n){return c(n.rates)})).then((function(){return f(!1)})).catch((function(){return f(!0)}))}),[u]),[t,j]},g=c.a.createContext([function(n){return null},function(n,e){}]),p=c.a.createContext([{},!1]),m=t(22),v=t(3),y=t(4),C=Object.freeze({Shadow:"rgba(10, 10, 10, 0.5)",AppBackground:"#000",ButtonBackground:"#151515",ErrorBackground:"#42120e",ErrorNotificationBackground:"#b23027",PanelBackground:"#2b2b2d",DominantBackground:"#0a84ff",DominantBackgroundDisabled:"#021a34",ErrorText:"#ca534d",PrimaryText:"#c0c0c0",SecondaryText:"#c0c0c0",DominantBackgroundText:"#fff",DominantText:"#1066dd"}),k=Object(y.b)(f||(f=Object(v.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),B=y.a.div(x||(x=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),w=y.a.div(O||(O=Object(v.a)(["\n    width: 60px;\n    height: 60px;\n    color: ",";\n    font-size: 60px;\n    animation: "," 4s linear infinite;\n"])),C.DominantText,k),S=t(2);var T=function(){return Object(S.jsx)(B,{children:Object(S.jsx)(w,{children:Object(S.jsx)(m.a,{"data-testid":"loading-icon"})})})};var _,E,P,D,z,F,A,L,I,M,N=function(n){var e=n.children,t=j(),r=Object(i.a)(t,3),c=r[0],a=r[1],o=r[2],u=h(),l=Object(i.a)(u,2),s=l[0],d=l[1];return c||!s?Object(S.jsx)(T,{}):Object(S.jsx)(g.Provider,{value:[a,o],children:Object(S.jsx)(p.Provider,{value:[s,d],children:e})})},V=t(23),J=t(24),K=t(33),U=t(32),W=function(n){Object(K.a)(t,n);var e=Object(U.a)(t);function t(n){var r;return Object(V.a)(this,t),(r=e.call(this,n)).state={hasError:!1},r}return Object(J.a)(t,[{key:"render",value:function(){return this.state.hasError?Object(S.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0}}}]),t}(c.a.Component),Z=t(49),G=y.a.div(_||(_=Object(v.a)(["\n    width: 100%;\n    max-width: 600px;\n    padding: 20px;\n"])));function R(n,e,t,r){return(n/r[e.code]*r[t.code]).toFixed(4)}var Y,$=y.a.div(E||(E=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]))),q=y.a.div(P||(P=Object(v.a)(["\n    padding: 10px;\n    margin-bottom: 20px;\n    background-color: ",";\n    border-radius: 10px;\n    color: ",";\n    text-align: center;\n"])),C.ErrorNotificationBackground,C.DominantBackgroundText),H=y.a.div(D||(D=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n"]))),Q=y.a.div(z||(z=Object(v.a)([""]))),X=y.a.div(F||(F=Object(v.a)(["\n    display: flex;\n    color: ",";\n    margin: 8px 0 16px 0;\n"])),C.DominantText),nn=y.a.h1(A||(A=Object(v.a)(["\n    color: ",";\n"])),C.PrimaryText),en=y.a.span(L||(L=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    height: 19px;\n"]))),tn=y.a.div(I||(I=Object(v.a)([""]))),rn=y.a.button(M||(M=Object(v.a)(["\n    width: 100%;\n    padding: 16px;\n    border: none;\n    border-radius: 20px;\n    color: ",";\n    background-color: ",";\n    cursor: pointer;\n    font-size: 16px;\n\n    &:disabled {\n        color: ",";\n        background-color: ",";\n        cursor: default;\n    }\n"])),C.DominantBackgroundText,C.DominantBackground,C.PrimaryText,C.DominantBackgroundDisabled);!function(n){n.Buy="buy",n.Sell="sell"}(Y||(Y={}));var cn,an,on,un,ln,sn,dn,bn=Y,jn=t(28);var fn=y.a.div(cn||(cn=Object(v.a)(["\n    padding: 20px;\n    background-color: ",";\n    border-radius: 16px;\n"])),(function(n){return n.hasError?C.ErrorBackground:C.PanelBackground})),xn=y.a.div(an||(an=Object(v.a)(["\n    display: flex;\n    margin-bottom: 6px;\n    color: ",";\n"])),C.PrimaryText),On=y.a.button(on||(on=Object(v.a)(["\n    display: flex;\n    margin-right: 10px;\n    background-color: transparent;\n    border: none;\n    color: ",";\n    font-size: 18px;\n    font-weight: bold;\n    cursor: pointer;\n"])),C.PrimaryText),hn=y.a.input(un||(un=Object(v.a)(["\n    flex-grow: 1;\n    width: 100%;\n    padding: 0 8px;\n    text-align: right;\n    background-color: transparent;\n    border: none;\n    font-size: 18px;\n    color: ",";\n"])),C.PrimaryText),gn=y.a.span(ln||(ln=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    height: 20px;\n    padding-left: 6px;\n"]))),pn=y.a.div(sn||(sn=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    color: ",";\n"])),C.SecondaryText),mn=y.a.span(dn||(dn=Object(v.a)(["\n    padding-right: 8px;\n    color: ",";\n"])),C.ErrorText);var vn,yn,Cn,kn,Bn,wn,Sn,Tn,_n,En=function(n){var e=n.currency,t=n.balance,r=n.sign,c=n.value,a=n.onChange,o=n.onCurrencyClick,i=n.onFocus,u=n.onBlur,l=Object(Z.a)().t,s="-"===r&&+c>t;function d(n){var e,t=(e=n).startsWith("-")||e.startsWith("+")?e.slice(1):e;(function(n){var e=n[n.length-1],t=Array.from(n.toString());return!e||!!t.every((function(n){return"0123456789.".includes(n)}))&&!(t.reduce((function(n,e){return n+("."===e?1:0)}),0)>1)})(t)&&a(function(n){return 2===n.length&&n.startsWith("0")&&(n=n.slice(1)),"."===n&&(n="0."),n}(t))}return Object(S.jsxs)(fn,{hasError:s,role:"group",children:[Object(S.jsxs)(xn,{children:[Object(S.jsxs)(On,{onClick:o,"data-testid":"change-currency-button",children:[e.code,Object(S.jsx)(gn,{children:Object(S.jsx)(jn.a,{})})]}),Object(S.jsx)(hn,{value:c?r+c:c,onChange:function(n){return d(n.target.value)},onFocus:i,onBlur:u,inputMode:"numeric",maxLength:13,placeholder:"0"})]}),Object(S.jsxs)(pn,{children:[Object(S.jsxs)("span",{"data-testid":"balance",children:[l("balance"),": ",t]}),s&&Object(S.jsx)(mn,{role:"alert",children:l("exceed_balance")})]})]})},Pn=t(13),Dn=t(29),zn=function(n){return n.toLowerCase()},Fn=y.a.li(vn||(vn=Object(v.a)(["\n    display: flex;\n    padding: 10px 0;\n    cursor: pointer;\n"]))),An=y.a.div(yn||(yn=Object(v.a)(["\n    flex: 34px 0 0;\n    padding-right: 20px;\n"]))),Ln=y.a.img(Cn||(Cn=Object(v.a)(["\n    width: 100%;\n    border-radius: 100%;\n"]))),In=y.a.dialog(kn||(kn=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 100;\n    background-color: black;\n    color: ",";\n"])),C.PrimaryText),Mn=y.a.h2(Bn||(Bn=Object(v.a)(["\n    display: flex;\n    height: 28px;\n    margin-bottom: 20px;\n"]))),Nn=y.a.span(wn||(wn=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    height: 27px;\n    padding-right: 16px;\n    cursor: pointer;\n"]))),Vn=y.a.input(Sn||(Sn=Object(v.a)(["\n    width: 100vw;\n    padding-left: 6px;\n    background-color: transparent;\n    border: none;\n    color: ",";\n    font-size: 16px;\n"])),C.PrimaryText),Jn=y.a.div(Tn||(Tn=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n"]))),Kn=y.a.div(_n||(_n=Object(v.a)(["\n    font-size: 12px;\n"])));var Un,Wn,Zn,Gn=function(n){var e=n.onClose,t=n.onSelect,c=Object(Z.a)().t,a=Object(r.useState)(""),o=Object(i.a)(a,2),u=o[0],l=o[1],s=Object(r.useState)(!0),d=Object(i.a)(s,2),j=d[0],f=d[1],x=Object(r.useContext)(g),O=Object(i.a)(x,1)[0],h=b.filter(function(n,e){return function(t){return zn(t.code).includes(zn(n))||zn(e(t.label)).includes(zn(n))}}(u,c)).map((function(n){var e=O(n);return Object(S.jsxs)(Fn,{onClick:function(){return t(n)},children:[Object(S.jsx)(An,{children:Object(S.jsx)(Ln,{src:"/img/".concat(n.code.toLowerCase(),".svg")})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[n.code," ",e?Object(S.jsxs)("span",{children:["\xb7 ",e]}):null]}),Object(S.jsx)(Kn,{children:c("currency.".concat(n.label))})]})]},n.code)}));return Object(S.jsx)(In,{children:Object(S.jsxs)(G,{children:[Object(S.jsxs)(Mn,{children:[Object(S.jsx)(Nn,{onClick:e,children:Object(S.jsx)(Dn.a,{})}),!j&&Object(S.jsxs)(Jn,{children:[c("choose_source"),Object(S.jsx)(Nn,{children:Object(S.jsx)(Pn.b,{onClick:function(){return f(!0)}})})]}),j&&Object(S.jsx)(Vn,{value:u,onBlur:function(){f(!1),setTimeout((function(){l("")}),100)},onChange:function(n){return l(n.target.value)},autoFocus:!0})]}),Object(S.jsx)("div",{children:Object(S.jsx)("ul",{children:h})})]})})},Rn=y.a.section(Un||(Un=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),Yn=y.a.div(Wn||(Wn=Object(v.a)(["\n    margin: -8px 0;\n    text-align: center;\n    z-index: 10;\n"]))),$n=y.a.button(Zn||(Zn=Object(v.a)(["\n    width: 24px;\n    height: 24px;\n    padding: 4px;\n    border: none;\n    border-radius: 100%;\n    background-color: ",";\n    color: ",";\n    cursor: pointer;\n"])),C.ButtonBackground,C.DominantText),qn=t(7);var Hn=function(n){var e=n.from,t=n.to,c=n.operation,a=n.onOperationChange,o=n.onActiveInputChange,u=Object(r.useState)(null),l=Object(i.a)(u,2),s=l[0],d=l[1];function b(n){d(n)}function j(n){o(n)}function f(){o(null)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(Rn,{role:"region",children:[Object(S.jsx)(En,{currency:e.currency,balance:e.balance,value:e.value,sign:c===bn.Buy?"+":"-",onChange:function(n){return e.onValueChange(n)},onCurrencyClick:function(){return b(e)},onFocus:function(){return j("from")},onBlur:function(){return f()}}),Object(S.jsx)(Yn,{children:Object(S.jsxs)($n,{onClick:function(){return a()},"data-testid":"operation",children:[c===bn.Buy&&Object(S.jsx)(qn.b,{"data-testid":"arrow-up"}),c===bn.Sell&&Object(S.jsx)(qn.a,{"data-testid":"arrow-down"})]})}),Object(S.jsx)(En,{currency:t.currency,balance:t.balance,value:t.value,sign:c===bn.Sell?"+":"-",onChange:function(n){return t.onValueChange(n)},onCurrencyClick:function(){return b(t)},onFocus:function(){return j("to")},onBlur:function(){return f()}})]}),s&&Object(S.jsx)(Gn,{onClose:function(){return d(null)},onSelect:function(n){null===s||void 0===s||s.onCurrencyChange(n),d(null)}})]})};var Qn,Xn,ne,ee,te=function(n,e){var t=Object(r.useContext)(p),c=Object(i.a)(t,1)[0],a=Object(r.useContext)(g),o=Object(i.a)(a,2),u=(o[0],o[1]);return function(t){var r=Math.round(100*t),a=Math.round(+R(r,n,e,c));u(r,n),u(-a,e)}},re=y.a.div(Qn||(Qn=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: ",";\n"])),C.Shadow),ce=y.a.div(Xn||(Xn=Object(v.a)(["\n    padding: 50px 0;\n    background-color: ",";\n    color: ",";\n    border-radius: 20px;\n    font-size: 20px;\n    font-weight: 500;\n    text-align: center;\n    cursor: pointer;\n"])),C.PanelBackground,C.PrimaryText),ae=y.a.div(ne||(ne=Object(v.a)(["\n    margin-bottom: 10px;\n    color: ",";\n    font-size: 80px;\n    text-align: center;\n"])),C.DominantText),oe=y.a.div(ee||(ee=Object(v.a)(["\n    margin-top: 8px;\n    color: ",";\n"])),C.DominantText);var ie=function(n){var e=n.fromCurrency,t=n.fromAmount,c=n.toCurrency,a=n.toAmount,o=n.onClose,i=Object(Z.a)().t;return Object(r.useEffect)((function(){var n=setTimeout(o,2500);return function(){return clearTimeout(n)}}),[o]),Object(S.jsx)(re,{children:Object(S.jsx)(G,{children:Object(S.jsxs)(ce,{onClick:o,role:"alertdialog",children:[Object(S.jsx)(ae,{children:Object(S.jsx)(qn.c,{})}),i("you_exchanged"),Object(S.jsx)(oe,{children:i("exchange_summary",{from:e.format(t),to:c.format(a)})})]})})})};function ue(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n.toString(),r=t.indexOf(".");if(-1===r)return t;var c=Math.min(r+3,t.length);if(e)for(;c>r&&["0","."].includes(t[c-1]);)c--;return t.slice(0,c)}var le,se=function(){var n=Object(Z.a)().t,e=Object(r.useState)(bn.Buy),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],s=u[1],d=Object(r.useState)(null),j=Object(i.a)(d,2),f=j[0],x=j[1],O=Object(r.useContext)(p),h=Object(i.a)(O,2),m=h[0],v=h[1],y=Object(r.useState)(""),C=Object(i.a)(y,2),k=C[0],B=C[1],w=Object(r.useState)(""),T=Object(i.a)(w,2),_=T[0],E=T[1],P=Object(r.useState)(b[1]),D=Object(i.a)(P,2),z=D[0],F=D[1],A=Object(r.useState)(b[2]),L=Object(i.a)(A,2),I=L[0],M=L[1],N=Object(r.useContext)(g),V=Object(i.a)(N,1)[0],J=V(z),K=V(I),U=c===bn.Buy?z:I,W=c===bn.Sell?z:I,Y=c===bn.Buy?k:_,cn=c===bn.Sell?k:_,an=te(U,W);Object(r.useEffect)((function(){"from"===f||!f&&c===bn.Buy?dn(k):jn(_)}),[m,z,I]);var on=c===bn.Sell&&+k>(J||0),un=c===bn.Buy&&+_>(K||0),ln=on||un||!k||v;function sn(n){return function(e){var t="from"===n?z:I,r="from"===n?I:z,c="from"===n?E:B;if(("from"===n?B:E)(ue(e)),e){var a=R(+ue(e),t,r,m);c(ue((+a).toFixed(2),!0))}else c("")}}var dn=sn("from"),jn=sn("to");function fn(){F(I),M(z);var n=[I,z];z=n[0],I=n[1]}if(null===J||null===K)return Object(S.jsx)("div",{});var xn=R(1,z,I,m);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(G,{children:Object(S.jsxs)($,{children:[v&&Object(S.jsx)(q,{role:"alert","data-testid":"stale-rates-notification",children:n("stale_rates_notification")}),Object(S.jsxs)(H,{children:[Object(S.jsxs)(Q,{children:[Object(S.jsxs)(nn,{children:[n(c)," ",z.code]}),Object(S.jsxs)(X,{"data-testid":"exchange-rate",children:[Object(S.jsx)(en,{children:Object(S.jsx)(Pn.a,{})}),z.format(1)," ="," ",I.format(xn)]}),Object(S.jsx)(Hn,{from:{balance:J,currency:z,onCurrencyChange:function(n){n===I?fn():F(n)},value:k,onValueChange:dn},to:{balance:K,currency:I,onCurrencyChange:function(n){n===z?fn():M(n)},value:_,onValueChange:jn},operation:c,onActiveInputChange:x,onOperationChange:function(){var n=c===bn.Buy?bn.Sell:bn.Buy;a(n)}})]}),Object(S.jsx)(tn,{children:Object(S.jsx)(rn,{disabled:ln,onClick:function(){an(+Y),s(!0)},"data-testid":"exchange-button",children:n(c===bn.Buy?"buy_with":"sell_to",{curOne:z.code,curTwo:I.code})})})]})]})}),l&&Object(S.jsx)(ie,{fromCurrency:W,fromAmount:cn,toCurrency:U,toAmount:Y,onClose:function(){return s(!1)}})]})},de=y.a.div(le||(le=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    width: 100vw;\n    height: 100vh;\n    background-color: ",";\n"])),C.AppBackground);var be=function(){return Object(S.jsx)(W,{children:Object(S.jsx)(de,{children:Object(S.jsx)(N,{children:Object(S.jsx)(se,{})})})})},je=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,50)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),r(n),c(n),a(n),o(n)}))},fe=t(16),xe=t(9),Oe=t(31);fe.a.use(xe.e).init({resources:{en:{translation:Oe}},lng:"en",fallbackLng:"en"});fe.a,t(47);o.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(be,{})}),document.getElementById("root")),je()}},[[48,1,2]]]);
//# sourceMappingURL=main.1317fdef.chunk.js.map